package EJ_ORACLE;

import Herramientas.Herramientas;
import java.sql.CallableStatement;
import java.sql.Connection;
import java.sql.ResultSet;
import java.sql.SQLException;
import oracle.jdbc.OracleTypes;

public class cincoEmpleados3 {
    
  public static void main(String[] args) throws SQLException {
        
        //Me conecto a BD de Oracle
       Connection conn = Herramientas.conexionOracle("hr","root");
        
       String solucion="{call ej3(?)}";
       
       CallableStatement  x= conn.prepareCall(solucion);
       
       //DEVOLVEMOS DATO TIPO CURSOR
       x.registerOutParameter(1,OracleTypes.CURSOR);
       x.executeUpdate();
       
       ResultSet r=(ResultSet)x.getObject(1);
       int i=0;
       
       while(r.next() && i<5){
           String ape=r.getString("last_name");
           int sal=r.getInt("salary");
           System.out.println("Apellido: "+ape+" Salario: "+sal);
           i++;
       }
       conn.close();
      
      
  }
}
